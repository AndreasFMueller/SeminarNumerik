%\documentclass[crop, tikz]{standalone}
%\usepackage{tikz}

\tikzstyle{inputNode}=[draw,circle,minimum size=17pt,inner sep=0pt]
\tikzstyle{stateTransition}=[-stealth, thick]

%\begin{document}
\begin{tikzpicture}
	\node[draw,circle,minimum size=25pt,inner sep=0pt] (x) at (0,0) {$\Sigma$ $\sigma$};

	\node[inputNode] (x0) at (-1, 2) {$\tiny +1$};
	\node[inputNode] (x1) at (-2, 0.75) {$\tiny x_0$};
	\node[inputNode] (x2) at (-2, 0) {$\tiny x_1$};
	\node[inputNode] (x3) at (-2, -0.75) {$\tiny x_2$};
	\node[inputNode] (xn) at (-2, -1.75) {$\tiny x_n$};

	\draw[stateTransition] (x0) to[out=0,in=90] node [midway, sloped, above] {$b^{l}$} (x);
	\draw[stateTransition] (x1) to[out=0,in=150] node [midway, sloped, above] {$w^{l}_0$} (x);
	\draw[stateTransition] (x2) to[out=0,in=180] node [midway, sloped, above] {$w^{l}_1$} (x);
	\draw[stateTransition] (x3) to[out=0,in=210] node [midway, sloped, above] {$w^{l}_2$} (x);
	\draw[stateTransition] (xn) to[out=0,in=240] node [midway, sloped, above] {$w^{l}_n$} (x);
	\draw[stateTransition] (x) -- (2,0) node [midway,above] {};
	\draw[dashed] (0,-0.43) -- (0,0.43);
	\node (dots) at (-2, -1.15) {$\vdots$};
	\node[inputNode, thick] (i1) at (5, 0.75) {};
	\node[inputNode, thick] (i2) at (5, 0) {};
	\node[inputNode, thick] (i3) at (5, -0.75) {};
	
	\node[inputNode, thick] (h1) at (7, 1.5) {};
	\node[inputNode, thick] (h2) at (7, 0.75) {};
	\node[inputNode, thick] (h3) at (7, 0) {$a^{2}_{3}$};
	\node[inputNode, thick] (h4) at (7, -0.75) {};
	\node[inputNode, thick] (h5) at (7, -1.5) {};
	
	\node[inputNode, thick] (o1) at (9, 0.75) {$a^{3}_{1}$};
	\node[inputNode, thick] (o2) at (9, -0.75) {};
	
	\draw[stateTransition] (4, 0.75) -- node[above] {$I_1$} (i1);
	\draw[stateTransition] (4, 0) -- node[above] {$I_2$} (i2);
	\draw[stateTransition] (4, -0.75) -- node[above] {$I_3$} (i3);
	
	\draw[stateTransition] (i1) -- (h1);
	\draw[stateTransition] (i1) -- (h2);
	\draw[stateTransition] (i1) -- (h3);
	\draw[stateTransition] (i1) -- (h4);
	\draw[stateTransition] (i1) -- (h5);
	\draw[stateTransition] (i2) -- (h1);
	\draw[stateTransition] (i2) -- (h2);
	\draw[stateTransition] (i2) -- (h3);
	\draw[stateTransition] (i2) -- (h4);
	\draw[stateTransition] (i2) -- (h5);
	\draw[stateTransition] (i3) -- (h1);
	\draw[stateTransition] (i3) -- (h2);
	\draw[stateTransition] (i3) -- (h3);
	\draw[stateTransition] (i3) -- (h4);
	\draw[stateTransition] (i3) -- (h5);
	
	\draw[stateTransition] (h1) -- (o1);
	\draw[stateTransition] (h1) -- (o2);
	\draw[stateTransition] (h2) -- (o1);
	\draw[stateTransition] (h2) -- (o2);
	\draw[stateTransition] (h3) -- (o1);
	\draw[stateTransition] (h3) -- (o2);
	\draw[stateTransition] (h4) -- (o1);
	\draw[stateTransition] (h4) -- (o2);
	\draw[stateTransition] (h5) -- (o1);
	\draw[stateTransition] (h5) -- (o2);
	
	\node[above=of i1, align=center] (l1) {Layer \\ $l=1$};
	\node[right=2.3em of l1, align=center] (l2) {Layer \\ $l=2$};
	\node[right=2.3em of l2, align=center] (l3) {Layer \\ $l=3$};
	
	\draw[stateTransition] (o1) -- node[above] {$O_1$} (10, 0.75);
	\draw[stateTransition] (o2) -- node[above] {$O_2$} (10, -0.75);
	
	\path[dashed, double, ultra thick, gray] (x.north) edge[bend left=0] (h5.north);
	\path[dashed, double, ultra thick, gray] (x.south) edge[bend right=0] (h5.south);
\end{tikzpicture}
%\end{document}