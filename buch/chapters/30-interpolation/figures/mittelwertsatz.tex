%
% mittelwertsatz.tex -- template for standalon tikz images
%
% (c) 2020 Prof Dr Andreas MÃ¼ller, Hochschule Rapperswil
%
\documentclass[tikz]{standalone}
\usepackage{amsmath}
\usepackage{times}
\usepackage{txfonts}
\usepackage{pgfplots}
\usepackage{csvsimple}
\usetikzlibrary{arrows,intersections,math}
\begin{document}
\def\skala{1}
\begin{tikzpicture}[>=latex,thick,scale=\skala]

\xdef\xlinks{1}
\xdef\xrechts{5.5}

\xdef\x{\xlinks}
\pgfmathparse{0.5*\x*(8-\x)-3}
\xdef\ylinks{\pgfmathresult}
\xdef\x{\xrechts}
\pgfmathparse{0.5*\x*(8-\x)-3}
\xdef\yrechts{\pgfmathresult}

\pgfmathparse{(\yrechts-\ylinks)/(\xrechts-\xlinks)}
\xdef\m{\pgfmathresult}


\begin{scope}[xshift=-3.5cm]
	\draw[color=blue] ({\xlinks-0.5},{\ylinks-\m*0.5}) --
		({\xrechts+0.5},{\yrechts+\m*0.5});
	\draw[line width=0.2pt] (\xlinks,0) -- (\xlinks,\ylinks);
	\draw[line width=0.2pt] (\xrechts,0) -- (\xrechts,\yrechts);
	\draw[color=red,line width=1.4pt]
		plot[domain=1:5.5,samples=100]
			({\x},{0.5*\x*(8-\x)-3});

	\xdef\x{1}
	\fill[color=white] (\xlinks,\ylinks) circle[radius=0.08];
	\draw[color=red] (\xlinks,\ylinks) circle[radius=0.08];
	\xdef\x{5.5}
	\fill[color=white] (\xrechts,\yrechts) circle[radius=0.08];
	\draw[color=red] (\xrechts,\yrechts) circle[radius=0.08];

	\draw (\xlinks,-0.1) -- (\xlinks,0.1);
	\node at (\xlinks,-0.1) [below] {$a$};
	\draw (\xrechts,-0.1) -- (\xrechts,0.1);
	\node at (\xrechts,-0.1) [below] {$b$};

	\node at (\xlinks,\ylinks) [above left] {$f(a)$};
	\node at (\xrechts,\yrechts) [below right] {$f(b)$};

	\draw[->] (-0.1,0) -- (6.5,0) coordinate[label={$x$}];
	\draw[->] (0,-0.1) -- (0,6.5) coordinate[label={right:$y$}];
\end{scope}

\begin{scope}[xshift=3.5cm]
\draw[->] (-0.1,0) -- (6.5,0) coordinate[label={$x$}];
\draw[->] (0,-0.1) -- (0,6.5) coordinate[label={right:$y$}];
\end{scope}

\end{tikzpicture}
\end{document}

